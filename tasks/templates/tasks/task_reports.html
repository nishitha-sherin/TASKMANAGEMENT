<!-- templates/admin/task_reports.html -->
{% extends 'admin/base.html' %}

{% block title %}Task Reports - Task Management{% endblock %}

{% block content %}
<h2 style="margin-bottom: 2rem;">Task Completion Reports</h2>

<div class="card">
    {% for task in tasks %}
    <div style="border: 1px solid #e0e0e0; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; background: #fafafa;">
        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
            <div>
                <h3 style="color: #2c3e50; margin-bottom: 0.5rem;">{{ task.title }}</h3>
                <p style="color: #7f8c8d; font-size: 0.9rem;">
                    Assigned to: <strong>{{ task.assigned_to.username }}</strong> ({{ task.assigned_to.email }})
                </p>
            </div>
            <span class="badge badge-completed">Completed</span>
        </div>
        
        <div style="background: white; padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
            <h4 style="color: #34495e; margin-bottom: 0.5rem;">Completion Report:</h4>
            <p style="color: #555; line-height: 1.6;">{{ task.completion_report }}</p>
        </div>
        
        <div style="display: flex; gap: 2rem; font-size: 0.9rem; color: #7f8c8d;">
            <div>
                <strong>Worked Hours:</strong> {{ task.worked_hours }} hours
            </div>
            <div>
                <strong>Completed On:</strong> {{ task.updated_at|date:"M d, Y H:i" }}
            </div>
            <div>
                <strong>Due Date:</strong> {{ task.due_date }}
            </div>
        </div>
    </div>
    {% empty %}
    <p style="text-align: center; color: #999; padding: 3rem;">No completed tasks with reports found</p>
    {% endfor %}
</div>
{% endblock %}